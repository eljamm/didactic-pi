{% extends 'sensor/sensor.html' %}
{% load static %}
{% load range_iterator %}

<!-- === Title === -->
{% block title %} {{ sensor_name|title }} with {{extra_function}} {% endblock %}

<!-- === Body === -->
{% block content %}

<!-- Javascript Data -->
{{ debug|json_script:"debug" }}
{{ pi_name|json_script:"pi-name" }}
{{ sensor_name|json_script:"sensor-name" }}
{{ extra_function|json_script:"extra-function" }}

<!-- Alert -->
<div class="alert alert-primary alert-dismissible fade show" role="alert">
    <p class="my-2">Check out the Raspberry Pi <a href="/pinout" class="alert-link">pinout page</a> for pin
        numbers.</p>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<!-- Extra Page -->
{% make_list "gauge, lcd" as extra_list %}
{% if extra_function in extra_list %}
    {% if extra_function == "gauge" %}
        <script src="{% static 'sensor/js/third-party/gauge/gauge.min.js' %}"></script>
        <script src="{% static 'sensor/js/utils/gauge.js' %}"></script>
    {% endif %}

    {% include url %}
{% else %}
    {% include 'sensor/base/404.html' %}
{% endif %}

<script src="{% static 'sensor/js/sensors/dht11.js' %}"></script>

{% if debug == True %}
<!-- Debugging -->
<div class="d-flex p-2 align-content-center justify-content-center" style="margin: 20px;">
    <div class="d-inline-flex p-2 flex-column log-container">
        <textarea id="data-log" cols="100" rows="10" style="border:solid 2px;" readonly></textarea><br>
        <input id="data-message-input" type="text" size="100" style="border:solid 2px; margin-top: 20px;"><br>
        <div class="card-container">
            <input class="d-flex align-self-start" id="data-message-submit" type="button" value="Send"
                style="width: 50%; margin: 20px 20px;">
            <input class="d-flex align-self-end" id="clear-textarea" type="button" value="Clear"
                style="width: 50%; margin: 20px 20px;">
        </div>
    </div>
</div>
{% endif %}

{% endblock %}